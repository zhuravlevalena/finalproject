{"version":3,"file":"applyCanvasTransform.mjs","sources":["../../../../src/util/internals/applyCanvasTransform.ts"],"sourcesContent":["import type { StaticCanvas } from '../../canvas/StaticCanvas';\n\n/**\n * Set the transform of the passed context to the same of a specific Canvas or StaticCanvas.\n * setTransform is used since this utility will RESET the ctx transform to the basic value\n * of retina scaling and viewport transform\n * It is not meant to be added to other transforms, it is used internally to preapre canvases to draw\n * @param ctx\n * @param canvas\n */\nexport const applyCanvasTransform = (\n  ctx: CanvasRenderingContext2D,\n  canvas: StaticCanvas,\n) => {\n  const scale = canvas.getRetinaScaling();\n  ctx.setTransform(scale, 0, 0, scale, 0, 0);\n  const v = canvas.viewportTransform;\n  ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n};\n"],"names":["applyCanvasTransform","ctx","canvas","scale","getRetinaScaling","setTransform","v","viewportTransform","transform"],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACaA,oBAAoB,GAAGA,CAClCC,GAA6B,EAC7BC,MAAoB,KACjB;AACH,EAAA,MAAMC,KAAK,GAAGD,MAAM,CAACE,gBAAgB,EAAE;AACvCH,EAAAA,GAAG,CAACI,YAAY,CAACF,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEA,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;AAC1C,EAAA,MAAMG,CAAC,GAAGJ,MAAM,CAACK,iBAAiB;AAClCN,EAAAA,GAAG,CAACO,SAAS,CAACF,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;AACnD;;;;"}